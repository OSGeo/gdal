CC	=	@CC@
CXX	=	@CXX@

CXX_OPTFLAGS =	@CXXFLAGS@
C_OPTFLAGS =	@CFLAGS@
CXX_DBGFLAGS =	-g -DDEBUG
C_DBGFLAGS =	-g -DDEBUG

LIBS	=	@LIBS@ -lm

#
#	Whether we use debug flags, or optimization is determined by
#	the CFG environment variable.  Set to debug for debug builds.
#	This is similar to the OGDI builds. 
#
ifeq ($(CFG),debug)
C_ODFLAGS 	= $(C_DBGFLAGS)
CXX_ODFLAGS 	= $(CXX_DBGFLAGS)
endif

ifeq ($(CFG),gprof)
C_ODFLAGS =	-pg
CXX_ODFLAGS =	-pg
LNK_FLAGS =	-pg
LIBS		:= $(filter-out -ldbmalloc,$(LIBS))
endif

ifeq ($(CFG),)
C_ODFLAGS =	$(C_OPTFLAGS)
CXX_ODFLAGS =	$(CXX_OPTFLAGS)
LIBS		:= $(filter-out -ldbmalloc,$(LIBS))
endif

CFLAGS		=	@C_WFLAGS@ @C_PIC@ $(C_ODFLAGS)
CXXFLAGS	=	@CXX_WFLAGS@ @CXX_PIC@ $(CXX_ODFLAGS)

LD_SHARED	=	@LD_SHARED@

GDAL_INCLUDE	=	-I$(GDAL_ROOT) -I$(GDAL_ROOT)/port -I$(GDAL_ROOT)/core\
			-I$(GDAL_ROOT)/ogr

GDAL_VER	=	1.0
GDAL_LIB	= 	$(GDAL_ROOT)/gdal.a
GDAL_SLIB	=	$(GDAL_ROOT)/gdal.$(GDAL_VER).so

OGR_LIB		=	$(GDAL_ROOT)/ogr/ogr.a
CPL_LIB		=	$(GDAL_ROOT)/port/cpl.a

ifneq ($(TOPDIR),)
OGDI_LIBS	=	-L$(TOPDIR)/bin/linux -logdi -lzlib
OGDI_FLAG	=	ENABLED
OGDI_FRMT	=	ogdi
endif


GDAL_LIBS	=	$(GDAL_LIB) $(OGR_LIB) $(GDAL_ROOT)/frmts/o/*.a \
			$(CPL_LIB) $(OGDI_LIBS)
GDAL_OBJ	=	$(GDAL_ROOT)/frmts/o/*.o \
			$(GDAL_ROOT)/core/*.o

#
#	Note these codes have to exactly match the format directory names, 
#	and their uppercase form should be the format portion of the
#	format registration entry point.  eg. gdb -> GDALRegister_GDB().
#
GDAL_FORMATS = 	gxf gtiff hfa $(OGDI_FRMT) aigrid ceos elas iso8211 sdts raw \
		dted
